{"ast":null,"code":"import _slicedToArray from \"/Users/kshitij/Desktop/CS-639/React 3/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/kshitij/Desktop/CS-639/React 3/src/App.js\";\nimport React from 'react';\nimport './App.css';\nimport Sidebar from './Sidebar';\nimport CourseArea from './CourseArea';\nimport Tab from 'react-bootstrap/Tab';\nimport Tabs from 'react-bootstrap/Tabs';\nimport CartCourse from './CartCourse';\nimport CompletedCourses from './CompletedCourses';\nimport Recommender from './Recommender';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      allCourses: {},\n      filteredCourses: {},\n      subjects: [],\n      cartCourses: [],\n      completedList: [],\n      interestList: [],\n      ratedCourses: []\n    };\n  }\n\n  async componentDidMount() {\n    const res = await fetch('https://mysqlcs639.cs.wisc.edu/classes');\n    const dataObj = await res.json();\n    const sub = this.getSubjects(dataObj);\n    this.setState({\n      allCourses: dataObj,\n      filteredCourses: dataObj,\n      subjects: sub,\n      interestList: this.setInterestList(dataObj, sub)\n    });\n    const res2 = await fetch('https://mysqlcs639.cs.wisc.edu/students/5022025924/classes/completed');\n    const dataObj2 = await res2.json();\n    this.setState({\n      completedList: this.getCompletedCourseList(dataObj2)\n    });\n  }\n\n  getSubjects(data) {\n    let subjects = [];\n    subjects.push(\"All\");\n\n    for (const course of Object.values(data)) {\n      if (subjects.indexOf(course.subject) === -1) subjects.push(course.subject);\n    }\n\n    return subjects;\n  }\n\n  setCourses(courses) {\n    this.setState({\n      filteredCourses: courses\n    });\n  } // Start\n\n\n  rateCourse(course) {\n    var tempList = this.state.ratedCourses;\n    course[1].rating = course[1].rating ? false : true;\n\n    if (course[1].rating) {\n      tempList.push(course);\n    } else {\n      for (const course of tempList) {\n        if (course[0] === subsection) {\n          tempList.splice(tempList.indexOf(course), 1);\n        }\n      }\n    }\n\n    this.setState({\n      ratedCourses: tempList\n    });\n  }\n\n  setInterestList(data, sub) {\n    var intList = [];\n    var subList = sub;\n\n    for (const course of Object.values(data)) {\n      for (const keyword of course.keywords) {\n        if (intList.indexOf(keyword) === -1) {\n          intList.push(keyword);\n        }\n      }\n    }\n\n    console.log(intList);\n    return intList;\n  }\n\n  getCompletedCourseList(comCourses) {\n    let tempCourses = comCourses.data;\n    let comList = [];\n\n    for (const _ref of Object.entries(this.state.allCourses)) {\n      var _ref2 = _slicedToArray(_ref, 2);\n\n      const key = _ref2[0];\n      const course = _ref2[1];\n\n      if (tempCourses.indexOf(key) !== -1) {\n        course.rating = false;\n        comList.push([key, course]);\n      }\n    }\n\n    return comList;\n  }\n\n  deleteCourse(name, section, subsection) {\n    var newCart = this.state.cartCourses;\n\n    if (section === \"Not Selected\") {\n      for (const course of newCart) {\n        if (course.name === name) {\n          newCart.splice(newCart.indexOf(course), 1);\n        }\n      }\n    } else if (subsection === \"Not Selected\") {\n      for (const course of newCart) {\n        if (course.section === section) {\n          newCart.splice(newCart.indexOf(course), 1);\n        }\n      }\n    } else {\n      for (const course of newCart) {\n        if (course.subsection === subsection) {\n          newCart.splice(newCart.indexOf(course), 1);\n        }\n      }\n    }\n\n    this.setState({\n      cartCourses: newCart\n    });\n  }\n\n  setCartCourses(name, section, subsection) {\n    var newCart = this.state.cartCourses;\n    var addedCourse = {};\n\n    if (section === \"\") {\n      for (const course of newCart) {\n        if (course.name === name) {\n          return;\n        }\n      }\n\n      addedCourse.name = name;\n      addedCourse.section = \"Not Selected\";\n      addedCourse.subsection = \"Not Selected\";\n    } else if (subsection === \"\") {\n      for (const course of newCart) {\n        if (course.section === section) {\n          return;\n        }\n      }\n\n      addedCourse.name = name;\n      addedCourse.section = section;\n      addedCourse.subsection = \"Not Selected\";\n    } else {\n      for (const course of newCart) {\n        if (course.subsection === subsection) {\n          return;\n        }\n      }\n\n      addedCourse.name = name;\n      addedCourse.section = section;\n      addedCourse.subsection = subsection;\n    }\n\n    this.setState({\n      cartCourses: this.state.cartCourses.concat(addedCourse)\n    });\n  } // End\n\n\n  render() {\n    return React.createElement(React.Fragment, null, React.createElement(\"link\", {\n      rel: \"stylesheet\",\n      href: \"https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\",\n      integrity: \"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T\",\n      crossOrigin: \"anonymous\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }), React.createElement(Tabs, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, React.createElement(Tab, {\n      eventKey: \"home\",\n      title: \"Home\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, React.createElement(Sidebar, {\n      setCourses: courses => this.setCourses(courses),\n      courses: this.state.allCourses,\n      subjects: this.state.subjects,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      style: {\n        marginLeft: '20vw'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, React.createElement(CourseArea, {\n      data: this.state.filteredCourses,\n      setCartCourses: (name, section, subsection) => this.setCartCourses(name, section, subsection),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }))), React.createElement(Tab, {\n      eventKey: \"cart\",\n      title: \"Cart\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, React.createElement(CartCourse, {\n      data: this.state.cartCourses,\n      deleteCourse: (name, section, subsection) => this.deleteCourse(name, section, subsection),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    })), React.createElement(Tab, {\n      eventKey: \"coursesCompleted\",\n      title: \"Courses Completed\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, React.createElement(CompletedCourses, {\n      data: this.state.completedList,\n      rateCourse: course => this.rateCourse(course),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    })), React.createElement(Tab, {\n      eventKey: \"recommender\",\n      title: \"Recommender\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, React.createElement(Recommender, {\n      aCourses: this.state.allCourses,\n      iList: this.state.interestList,\n      sList: this.state.subjects,\n      rCourses: this.state.ratedCourses,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/kshitij/Desktop/CS-639/React 3/src/App.js"],"names":["React","Sidebar","CourseArea","Tab","Tabs","CartCourse","CompletedCourses","Recommender","App","Component","constructor","props","state","allCourses","filteredCourses","subjects","cartCourses","completedList","interestList","ratedCourses","componentDidMount","res","fetch","dataObj","json","sub","getSubjects","setState","setInterestList","res2","dataObj2","getCompletedCourseList","data","push","course","Object","values","indexOf","subject","setCourses","courses","rateCourse","tempList","rating","subsection","splice","intList","subList","keyword","keywords","console","log","comCourses","tempCourses","comList","entries","key","deleteCourse","name","section","newCart","setCartCourses","addedCourse","concat","render","marginLeft"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './App.css';\nimport Sidebar from './Sidebar';\nimport CourseArea from './CourseArea';\nimport Tab from 'react-bootstrap/Tab';\nimport Tabs from 'react-bootstrap/Tabs';\nimport CartCourse from './CartCourse';\nimport CompletedCourses from './CompletedCourses';\nimport Recommender from './Recommender';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      allCourses: {},\n      filteredCourses: {},\n      subjects: [],\n      cartCourses: [],\n      completedList: [],\n      interestList: [],\n      ratedCourses:[]\n    };\n  }\n\n  async componentDidMount() {\n    const res = await fetch('https://mysqlcs639.cs.wisc.edu/classes');\n    const dataObj = await res.json();\n    const sub = this.getSubjects(dataObj);\n    this.setState({allCourses: dataObj, filteredCourses: dataObj,\n       subjects: sub, \n       interestList: this.setInterestList(dataObj, sub)});\n\n    const res2 = await fetch('https://mysqlcs639.cs.wisc.edu/students/5022025924/classes/completed')\n    const dataObj2 = await res2.json();\n    this.setState({completedList: this.getCompletedCourseList(dataObj2)});\n  }\n\n  getSubjects(data) {\n    let subjects = [];\n    subjects.push(\"All\");\n\n    for(const course of Object.values(data)) {\n      if(subjects.indexOf(course.subject) === -1)\n        subjects.push(course.subject);\n    }\n\n    return subjects;\n  }\n\n  setCourses(courses){\n    this.setState({filteredCourses: courses})\n  }\n\n  // Start\n\n  rateCourse(course){\n    var tempList = this.state.ratedCourses;\n    course[1].rating = course[1].rating?false:true;\n    if(course[1].rating){\n      tempList.push(course);\n    }\n    else{\n      for(const course of tempList){\n        if(course[0] === subsection){\n          tempList.splice(tempList.indexOf(course), 1);\n        }\n      }\n    }\n    this.setState({ratedCourses: tempList})\n  }\n\n  setInterestList(data, sub){\n    var intList = [];\n    var subList = sub;\n    for(const course of Object.values(data)){\n      for(const keyword of course.keywords){\n        if(intList.indexOf(keyword) === -1){\n          intList.push(keyword);\n        }\n      }\n    }\n    console.log(intList);\n    return intList;\n  }\n  getCompletedCourseList(comCourses){\n    let tempCourses = comCourses.data;\n    let comList = [];\n    for(const [key, course] of Object.entries(this.state.allCourses)) {\n      if(tempCourses.indexOf(key) !== -1){\n        course.rating = false;\n        comList.push([key, course]);\n      }\n    }\n    return comList;\n  }\n\n  deleteCourse(name, section, subsection){\n    var newCart = this.state.cartCourses;\n    if(section === \"Not Selected\"){\n      for(const course of newCart){\n        if(course.name === name){\n          newCart.splice(newCart.indexOf(course), 1);\n        }\n      }\n    }\n    else if(subsection === \"Not Selected\"){\n      for(const course of newCart){\n        if(course.section === section){\n          newCart.splice(newCart.indexOf(course), 1);\n        }\n      }\n    }\n    else{\n      for(const course of newCart){\n        if(course.subsection === subsection){\n          newCart.splice(newCart.indexOf(course), 1);\n        }\n      }\n    }\n    this.setState({cartCourses: newCart})\n  }\n\n  setCartCourses(name, section, subsection){\n    var newCart = this.state.cartCourses;\n    var addedCourse = {};\n    if(section === \"\"){\n      for(const course of newCart){\n        if(course.name === name){\n          return;\n        }\n      }\n      addedCourse.name = name;\n      addedCourse.section = \"Not Selected\";\n      addedCourse.subsection = \"Not Selected\";\n    }\n    else if(subsection === \"\"){\n      for(const course of newCart){\n        if(course.section === section){\n          return;\n        }\n      }\n      addedCourse.name = name;\n      addedCourse.section = section;\n      addedCourse.subsection = \"Not Selected\";\n    }\n    else{\n      for(const course of newCart){\n        if(course.subsection === subsection){\n          return;\n        }\n      }\n      addedCourse.name = name;\n      addedCourse.section = section;\n      addedCourse.subsection = subsection;\n    }\n    this.setState({\n      cartCourses: this.state.cartCourses.concat(addedCourse)\n    })\n  }\n\n  // End\n\n  render() {\n    return (\n      <>\n        <link\n          rel=\"stylesheet\"\n          href=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\"\n          integrity=\"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T\"\n          crossOrigin=\"anonymous\"\n        />\n        <Tabs>\n          <Tab eventKey=\"home\" title=\"Home\">\n            <Sidebar setCourses={(courses) => this.setCourses(courses)} courses={this.state.allCourses} subjects={this.state.subjects}/>\n              <div style={{marginLeft: '20vw'}}>\n                <CourseArea data={this.state.filteredCourses} setCartCourses={(name, section, subsection)=>this.setCartCourses(name, section, subsection)}/>\n              </div>\n          </Tab>\n          <Tab eventKey=\"cart\" title=\"Cart\">\n            <CartCourse data={this.state.cartCourses} deleteCourse={(name, section, subsection)=>this.deleteCourse(name, section, subsection)}/>\n          </Tab>\n          <Tab eventKey=\"coursesCompleted\" title=\"Courses Completed\">\n            <CompletedCourses data={this.state.completedList} rateCourse={(course)=>this.rateCourse(course)}/>\n          </Tab>\n          <Tab eventKey=\"recommender\" title=\"Recommender\">\n            <Recommender aCourses={this.state.allCourses} iList={this.state.interestList} sList={this.state.subjects} rCourses={this.state.ratedCourses}/>\n          </Tab>\n        </Tabs>\n      </>\n    )\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}